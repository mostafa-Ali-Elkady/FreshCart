"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[592],{4662:(v,m,n)=>{n.d(m,{c:()=>g});var u=n(6895),t=n(1571);let g=(()=>{class s{}return s.\u0275fac=function(l){return new(l||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-footer"]],standalone:!0,features:[t.jDz],decls:30,vars:0,consts:[[1,"py-5","bg-color"],[1,"container-fluid-lg","container"],[1,"heading"],[1,"fw-bold","txt-color"],[1,"txt-grey","fw-bold"],[1,"row","align-items-center","justify-content-center"],[1,"col-md-9","mb-3"],["type","email","placeholder","Email",1,"form-control","txt-color","bg-sec"],[1,"col-md-3","mb-3"],[1,"btn","bg-main","text-white","w-100"],[1,"row","mt-5","justify-content-center","align-items-center","bordered-row"],[1,"col-md-6","mb-3"],[1,"d-flex","justify-content-center","align-items-center","flex-column","flex-row-lg"],[1,"txt-color","fw-bold","txt-grey"],[1,""],["src","assets/images/amazon.png","alt","img","width","80px"],["src","assets/images/americanExpress.png","alt","img","width","80px"],["src","../../../assets/images/mastercard.png","alt","img","width","80px"],["src","assets/images/paypal.png","alt","img","width","80px"],["src","assets/images/googleplay.png","alt","img","width","130px"],["src","assets/images/appstore.png","alt","img","width","130px"]],template:function(l,d){1&l&&(t.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4,"Get The FreshCart app"),t.qZA(),t.TgZ(5,"p",4),t._uU(6," we will send you a link, open it in your phone to download app "),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6),t._UZ(9,"input",7),t.qZA(),t.TgZ(10,"div",8)(11,"button",9),t._uU(12,"Share App Link"),t.qZA()()(),t.TgZ(13,"div",10)(14,"div",11)(15,"div",12)(16,"span",13),t._uU(17,"Payment Partners "),t.qZA(),t.TgZ(18,"div",14),t._UZ(19,"img",15)(20,"img",16)(21,"img",17)(22,"img",18),t.qZA()()(),t.TgZ(23,"div",11)(24,"div",12)(25,"span",13),t._uU(26," Get deliveries with FreshCart "),t.qZA(),t.TgZ(27,"div",14),t._UZ(28,"img",19)(29,"img",20),t.qZA()()()()()())},dependencies:[u.ez],styles:[".bordered-row[_ngcontent-%COMP%]{padding-top:1rem;border-top:1px solid var(--txt-grey);border-bottom:1px solid var(--txt-grey)}"]}),s})()},8369:(v,m,n)=>{n.r(m),n.d(m,{ProductsComponent:()=>x});var u=n(6895),t=n(1571);let g=(()=>{class r{transform(e,o){return e.filter(i=>i.title.toLowerCase().includes(o.toLowerCase()))}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275pipe=t.Yjl({name:"searchPipe",type:r,pure:!0,standalone:!0}),r})();var s=n(9427),c=n(433),l=n(9531),d=n(910),h=n(2018);const C=function(r){return["/product-details",r]};function _(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"a",7),t._UZ(3,"img",8),t.TgZ(4,"div",9)(5,"p",10),t._uU(6),t.qZA(),t.TgZ(7,"h5",11),t._uU(8),t.qZA(),t.TgZ(9,"div",12)(10,"span"),t._uU(11),t.qZA(),t.TgZ(12,"div"),t._UZ(13,"i",13),t.TgZ(14,"span"),t._uU(15),t.qZA()()()()(),t.TgZ(16,"button",14,15),t.NdJ("click",function(){const p=t.CHM(e).$implicit,f=t.MAs(17),y=t.oxw();return t.KtG(y.addToCart(p._id,f))}),t._uU(18,"+ Add TO Cart"),t.qZA()()()}if(2&r){const e=a.$implicit;let o,i;t.xp6(2),t.Q6J("routerLink",t.VKq(6,C,null==e?null:e._id)),t.xp6(1),t.Q6J("src",null==e?null:e.imageCover,t.LSH),t.xp6(3),t.Oqu(e.category.name),t.xp6(2),t.Oqu(null==e||null==e.title||null==(o=e.title.split(" "))||null==(i=o.slice(0,2))?null:i.join(" ")),t.xp6(3),t.hij("",e.price," EGP"),t.xp6(4),t.Oqu(e.ratingsAverage)}}let x=(()=>{class r{constructor(e,o,i,p){this._productsService=e,this._CartService=o,this._ToastrService=i,this._Renderer2=p,this.allProducts=[],this.searchWord=""}ngOnInit(){this._productsService.getAllProducts().subscribe({next:e=>{this.allProducts=e.data}})}addToCart(e,o){this._Renderer2.setAttribute(o,"disabled","true"),this._CartService.addToCart(e).subscribe({next:i=>{console.log(i),this._ToastrService.success(i.message),this._CartService.cartNumber.next(i.numOfCartItems),this._Renderer2.removeAttribute(o,"disabled")},error:i=>{this._Renderer2.removeAttribute(o,"disabled")}})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(l.R),t.Y36(d.N),t.Y36(h._W),t.Y36(t.Qsj))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-products"]],standalone:!0,features:[t.jDz],decls:7,vars:5,consts:[[1,"products"],[1,"text-center","my-5","heading","txt-color"],["type","text","placeholder","Search By Product Name",1,"form-control","mx-auto","my-4","rounded","txt-color","bg-color","searchInput",3,"ngModel","ngModelChange"],[1,"row","g-2","my-5"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-6 my-2",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-6","my-2"],[1,"product"],[1,"txt-color","text-decoration-none",3,"routerLink"],["alt","product-image",1,"w-100",3,"src"],[1,"content","p-2"],[1,"text-main","fw-normnal","mt-3","txt-color"],[1,"txt-color"],[1,"d-flex","justify-content-between","txt-color"],[1,"fa","fa-star","rating-color"],[1,"btn","bg-main","text-white",3,"click"],["addBtn",""]],template:function(e,o){1&e&&(t.TgZ(0,"section",0)(1,"h2",1),t._uU(2,"Shop With Our Products"),t.qZA(),t.TgZ(3,"input",2),t.NdJ("ngModelChange",function(p){return o.searchWord=p}),t.qZA(),t.TgZ(4,"div",3),t.YNc(5,_,19,8,"div",4),t.ALo(6,"searchPipe"),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("ngModel",o.searchWord),t.xp6(2),t.Q6J("ngForOf",t.xi3(6,2,o.allProducts,o.searchWord)))},dependencies:[u.ez,u.sg,s.rH,c.u5,c.Fj,c.JJ,c.On,g],styles:[".searchInput[_ngcontent-%COMP%]{width:min(450px,100%)}"]}),r})()},4377:(v,m,n)=>{function u(r){this.message=r}n.d(m,{e:()=>x}),(u.prototype=new Error).name="InvalidCharacterError";var t=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(r){var a=String(r).replace(/=+$/,"");if(a.length%4==1)throw new u("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,o,i=0,p=0,f="";o=a.charAt(p++);~o&&(e=i%4?64*e+o:o,i++%4)?f+=String.fromCharCode(255&e>>(-2*i&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return f};function s(r){this.message=r}(s.prototype=new Error).name="InvalidTokenError";var d=n(1135),h=n(1571),C=n(529),_=n(9427);let x=(()=>{class r{constructor(e,o){this._HttpClient=e,this._Router=o,this.userData=new d.X(null),null!==localStorage.getItem("userToken")&&this.decodeUserData()}decodeUserData(){let o=function c(r,a){if("string"!=typeof r)throw new s("Invalid token specified");var e=!0===(a=a||{}).header?0:1;try{return JSON.parse(function g(r){var a=r.replace(/-/g,"+").replace(/_/g,"/");switch(a.length%4){case 0:break;case 2:a+="==";break;case 3:a+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(t(a).replace(/(.)/g,function(o,i){var p=i.charCodeAt(0).toString(16).toUpperCase();return p.length<2&&(p="0"+p),"%"+p}))}catch{return t(a)}}(r.split(".")[e]))}catch(o){throw new s("Invalid token specified: "+o.message)}}(JSON.stringify(localStorage.getItem("userToken")));this.userData.next(o)}register(e){return this._HttpClient.post("https://ecommerce.routemisr.com/api/v1/auth/signup",e)}login(e){return this._HttpClient.post("https://ecommerce.routemisr.com/api/v1/auth/signin",e)}logOut(){this.userData.next(null),localStorage.removeItem("userToken"),localStorage.removeItem("username"),this._Router.navigate(["/login"])}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(C.eN),h.LFG(_.F0))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},910:(v,m,n)=>{n.d(m,{N:()=>s});var u=n(1135),t=n(1571),g=n(529);let s=(()=>{class c{constructor(d){this._HttpClient=d,this.cartNumber=new u.X(0),this.cartId="",this.baseUrl="https://ecommerce.routemisr.com/api/v1/",this.headers={token:localStorage.getItem("userToken")}}addToCart(d){return this._HttpClient.post(this.baseUrl+"cart",{productId:d},{headers:this.headers})}getUserCart(){return this._HttpClient.get(this.baseUrl+"cart",{headers:this.headers})}removeCartItem(d){return this._HttpClient.delete(this.baseUrl+`cart/${d}`,{headers:this.headers})}updateCount(d,h){return this._HttpClient.put(this.baseUrl+`cart/${d}`,{count:h},{headers:this.headers})}emptyCart(){return this._HttpClient.delete(this.baseUrl+"cart",{headers:this.headers})}}return c.\u0275fac=function(d){return new(d||c)(t.LFG(g.eN))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},9531:(v,m,n)=>{n.d(m,{R:()=>g});var u=n(1571),t=n(529);let g=(()=>{class s{constructor(l){this._HttpClient=l}getCategories(){return this._HttpClient.get("https://ecommerce.routemisr.com/api/v1/categories")}getAllProducts(){return this._HttpClient.get("https://ecommerce.routemisr.com/api/v1/products")}getAllBrands(){return this._HttpClient.get("https://ecommerce.routemisr.com/api/v1/brands")}getSpecificProducts(l){return this._HttpClient.get(`https://ecommerce.routemisr.com/api/v1/products/${l}`)}}return s.\u0275fac=function(l){return new(l||s)(u.LFG(t.eN))},s.\u0275prov=u.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()}}]);